<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quiz</title>
  </head>
  <body class="bg-light" x-data="demoQuizPage" x-init="init()">
    <header class="bg-white border-bottom">
      <div class="container py-3">
        <h1 class="h5 mb-0" x-text="title"></h1>
      </div>
    </header>

    <main class="container py-4">
      <div class="card">
        <div class="card-body">
          <h2 class="h6 mb-2" x-text="title"></h2>
          <div x-show="!quiz">
            <p class="text-muted">Loading quiz...</p>
          </div>

          <template x-if="quiz">
            <div>
              <form>
                <template x-for="(q, qidx) in quiz.questions" :key="q.id">
                  <fieldset class="mb-3">
                    <legend class="fw-medium" x-text="(qidx+1) + '. ' + q.question"></legend>
                    <div>
                      <template x-for="(opt, oidx) in q.options" :key="oidx">
                        <div class="form-check">
                          <input class="form-check-input" type="radio" :name="q.id" :value="oidx" x-model="answers[q.id]" />
                          <label class="form-check-label" x-text="opt"></label>
                        </div>
                      </template>
                    </div>
                  </fieldset>
                </template>
              </form>
              <div class="d-flex gap-2">
                <button class="btn btn-primary" @click="submitQuiz()">Submit Quiz</button>
                <a class="btn btn-outline-secondary" :href="courseLink">Back to course</a>
              </div>
            </div>
          </template>
        </div>
      </div>
    </main>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
